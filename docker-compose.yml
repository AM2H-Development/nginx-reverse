version: "3.7"
services:
  theia:
    image: "theiaide/theia" 
    restart: unless-stopped
    volumes:
      - theia_data:/home/project:cached
    ports:
      - "4001:4001"
      - "4002:4002"
    networks:
      reverse-proxy:
        aliases:
          - theia

  nginx:
    image: "am2h/nginx-reverse-proxy"
    restart: unless-stopped
    volumes:
      - nginx_config:/etc/nginx/
    ports:
      - "80:80"
      - "443:443"
    networks:
      - reverse-proxy
      
volumes:
  theia_data:
  nginx_config:
  
networks:
  reverse-proxy:
